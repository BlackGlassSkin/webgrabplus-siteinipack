**------------------------------------------------------------------------------------------------
* @header_start
* WebGrab+Plus ini for grabbing EPG data from TvGuide websites
* @Site: tvguide.com
* @MinSWversion: 2
* @Revision 0 - [01/06/2018] doglover
*  - creation
* @Remarks:
* @header_end
**------------------------------------------------------------------------------------------------
**
site {url=tvguide.com|timezone=GMT|maxdays=7|cultureinfo=en-US|charset=utf-8|titlematchfactor=90|keepindexpage}
url_index{url|http://mobilelistings.tvguide.com/Listingsweb/ws/rest/schedules/889039.16777216/start/|urldate|/duration/1440?ChannelFields=Name%2CFullName%2CNumber%2CSourceId&ScheduleFields=ProgramId%2CEndTime%2CStartTime%2CTitle%2CAiringAttrib%2CCatId&formattype=json&disableChannels=music%2Cppv%2C24hr}
urldate.format {datenumber|unix|0}

index_variable_element.modify {set|'config_site_id'}
index_showsplit.scrub {multi()|{"Channel":{"FullName":"'index_variable_element'",|{|}|}]}}
index_showsplit.modify {cleanup(removeduplicates)}
index_start.scrub {single|"StartTime":||,}
index_stop.scrub {single|"EndTime":||,}
index_title.scrub {single()|"Title"|:"||}
index_title.modify {cleanup}
index_title.modify {remove|\}
*
index_urlshow {url ()|http://mapi.tvguide.com/listings/expanded_details?v=1.5&program=|"ProgramId":||,|}*
title.modify {addstart|'index_title'}
subtitle.scrub {single()|"episode_title"|:"|",|}
subtitle.modify {cleanup}
subtitle.modify {remove|\}
description.scrub {single()|"description"|:"|",|}
description.modify {cleanup}
description.modify {remove|\}
description.modify {remove|"}:}
episode.scrub {single|"episode"|:|,|"tvobject"}
episode.modify {addstart ('episode' not "")|E}
temp_1.scrub {single|"season"|:|,|"tvobject"}
temp_1.modify {addstart ('temp_1' not "")|S}
episode.modify {addstart ('temp_1' not "")|'temp_1'}
rating.scrub {single(single()|"rating"|:"|",|}
productiondate.scrub {single(single()|"release_year"|:|,|}
*

**  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _  _
**      #####  CHANNEL FILE CREATION (only to create the xxx-channel.xml file)
**
** @auto_xml_channel_start
*index_site_id.scrub {multi|{"Channel":{"FullName"|:"|",|"Name"}
*index_site_channel.modify {addstart|'index_site_id'}
*scope.range {(channellist)|end}
*index_site_id.modify {cleanup(removeduplicates=equal,100 link="index_site_channel")}
*end_scope
** @auto_xml_channel_end
